!function(e){function t(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild.data}function a(e,a,r){var l=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in a)l.setAttribute(i,a[i]);return r&&(l.textContent=t(r)),l}var r="#999",l="#6bb8b6";prettyNumber=function(e){return exp_number=e.toExponential(),notation_parts=exp_number.split("e"),notation=notation_parts[1],e>=1e9?(notation_string="b",number_part=e/1e9):e>=1e6?(notation_string="m",number_part=e/1e6):e>=1e3?(notation_string="k",number_part=e/1e3):(notation_string="",number_part=e),number_part<10?number_part=Math.round(10*number_part)/10:number_part=Math.round(number_part),number_part+notation_string},e.fn.drawDonut=function(t,l){var i,n,s,o=e(this),p=l.has_key,c=l.has_key?200:100,h=100,d=l.colors,u=c/2,_=h/2,v=Math.min(u,_),f=l.donut_thickness.indexOf("%")>-1?2*v*parseInt(l.donut_thickness)/100:parseInt(l.donut_thickness),g=v-f,m=(l.background_color||"#fff",l.full_donut),y=l.title,x=l.number_decorator||"",w=l.no_text||!1,k=l.goal_value,b=l.goal_value_text||"Remaining",M=l.rounded||!1,j=l.no_tip||!1,P=Math.cos,C=Math.sin,I=Math.PI,L=m?2*I:1.5*I,A=e('<svg width="100%" height="100%" viewBox="0, 0, '+c+", "+h+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(o),N=[],T=0;"undefined"!=typeof l.start_angle?(i=l.start_angle,n=v+v*P(i),s=v-v*C(i)):(i=m?3*I/2:5*I/4,n=m?v:v-v*P(I/4),s=m?2*v:v+v*C(I/4));for(var O=0;O<t.length;O++)T+=t[O].value;var B=T,H=!1;if(k&&k>T?(t.push({name:b,value:k-T}),0==T&&(H=!0),T=k):1==t.length&&m&&(H=!0),T>0)for(var O=0;O<t.length;O++){var Z,W,X=t[O],Y=X.value/T*L,z=v+v*P(i-Y),E=v-v*C(i-Y),S=v+g*P(i-Y),D=v-g*C(i-Y),F=d[O%d.length];Y>=I?(Z="0 1 1",W="0 1 0"):(Z="0 0 1",W="0 0 0");var Q,R=0!=O||m?"0 0 0":"0 0 1";if(H&&m&&X.value>0)var q=a("circle",{cx:v,cy:v,r:g+f/2,stroke:F,"stroke-width":f,fill:"none","data-title":X.name,"data-value":X.value,"class":"graph_piece"});else{Q=M?["M",n,s,"A",v,v,Z,z,E,"A",f/2,f/2,"0 1 1",S,D,"A",g,g,W,v+g*P(i),v-g*C(i),"A",f/2,f/2,R,n,s,"Z"]:["M",n,s,"A",v,v,Z,z,E,"L",S,D,"A",g,g,W,v+g*P(i),v-g*C(i),"L",n,s,"Z"];var q=a("path",{d:Q.join(" "),fill:F,"data-title":X.name,"data-value":X.value,"class":"graph_piece"})}A.append(q),n=z,s=E,i=i-Y>0?(i-Y)%(2*I):i-Y+2*I,N.push({color:F,title:X.name,percentage:Math.round(100*(X.value/T))})}if(!w)if(m)var G=a("text",{x:v,y:v,"text-anchor":"middle","class":"center_large"},prettyNumber(B)+x),J=a("text",{x:v,y:v+g/4,fill:r,"text-anchor":"middle","class":"center_small"},y);else var G=a("text",{x:v,y:v+3*g/4+f/2,"text-anchor":"middle","class":"center_large"},prettyNumber(B)+x),J=a("text",{x:v,y:2*v-f/2,fill:r,"text-anchor":"middle","class":"center_small"},y);if(A.append(G),A.append(J),p)for(var K=area_height/N.length,U=Math.min(5,K),O=0;O<N.length;O++){var V=N[O],$=a("circle",{cx:u+2*U,cy:O*K+U,r:U,fill:V.color,"class":"key_circle"}),ee=a("text",{x:u+4*U,y:O*K+1.5*U,fill:r,"class":"key_text"},V.title+" ("+V.percentage+"%)");A.append($),A.append(ee)}if(!j){var te=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");o.on("mouseover","path.graph_piece, circle.graph_piece",function(t){te.find("span.title").html(e(this).data("title")),te.find("span.value").text(prettyNumber(e(this).data("value"))+x),te.show()}),o.on("mouseleave","path.graph_piece, circle.graph_piece",function(e){te.hide()}),o.on("mousemove","path.graph_piece, circle.graph_piece",function(e){te.css({left:e.pageX-te.outerWidth()/2+"px",top:e.pageY-te.outerHeight(!0)+"px"})})}return o.addClass("chart").addClass("donut_chart"),p&&o.addClass("has_key"),o},e.fn.drawPie=function(t,l){for(var i=e(this),n=l.has_key?200:100,s=100,o=l.colors,p=n/2,c=s/2,h=l.title,d=l.has_key,u=h?10:0,_=Math.min(p,c-u),v=_+u,f=Math.cos,g=Math.sin,m=Math.PI,y=2*m,x=e('<svg width="100%" height="100%" viewBox="0, 0, '+n+", "+s+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(i),w=h?s-10:s,k=!1,b=[],M=0,j=v,P=u+_+_,C=3*m/2,I=0;I<t.length;I++)M+=t[I].value;if(1==t.length&&(k=!0),M>0)for(var I=0;I<t.length;I++){var L,A,N=t[I],T=N.value/M*y,O=v+_*f(C-T),B=u+_-_*g(C-T),H=o[I%o.length];if(k=N.value==M?!0:!1,C>m/2&&3*m/2>=C?T>=m?(L="0 1 1",A="0 1 0"):(L="0 0 1",A="0 0 0"):T>=m?(L="0 0 1",A="0 0 0"):(L="0 0 1",A="0 0 0"),N.value>0)if(k)var Z=a("circle",{cx:j,cy:_+u,r:_,fill:H,"data-title":N.name,"data-value":N.value,"class":"graph_piece"});else var W=["M",v,_+u,"L",j,P,"A",_,_,L,O,B,"L",v,_+u,"Z"],Z=a("path",{d:W.join(" "),fill:H,"data-title":N.name,"data-value":N.value,"class":"graph_piece"});x.append(Z),j=O,P=B,C-=T,b.push({color:H,title:N.name,percentage:Math.round(100*(N.value/M))})}if(d)for(var X=(w-u)/b.length,Y=Math.min(5,X),I=0;I<b.length;I++){var z=b[I],E=a("circle",{cx:p+2*Y,cy:u+I*X+Y,r:Y,fill:z.color,"class":"key_circle"}),S=a("text",{x:p+4*Y,y:u+I*X+1.5*Y,fill:r,"class":"key_text"},z.title+" ("+z.percentage+"%)");x.append(E),x.append(S)}if(h){var D=a("text",{x:n/2,y:5,fill:r,"text-anchor":"middle","class":"key_text"},h);x.append(D)}var F=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");return i.on("mouseover","path.graph_piece, circle.graph_piece",function(t){F.find("span.title").html(e(this).data("title")),F.find("span.value").text(prettyNumber(e(this).data("value"))),F.show()}),i.on("mouseleave","path.graph_piece, circle.graph_piece",function(e){F.hide()}),i.on("mousemove","path.graph_piece, circle.graph_piece",function(e){F.css({left:e.pageX-F.outerWidth()/2+"px",top:e.pageY-F.outerHeight(!0)+"px"})}),i.addClass("chart").addClass("pie_chart"),d&&i.addClass("has_key"),i},e.fn.drawSkew=function(t,l){function i(e,t){var a="object"==typeof e.category?e.category.name:e.category,r="object"==typeof t.category?t.category.name:t.category;return q.indexOf(a)<q.indexOf(r)?-1:q.indexOf(a)>q.indexOf(r)?1:0}var n=e(this),s=l.has_key?200:100,o=100,p=l.colors,c=l.border_color,h=l.data_max||10,d=l.show_fit;fit_master=l.fit_master||0,fit_comparison=(fit_master+1)%2,title=l.title,has_key=l.has_key,edge_tooltips=l.edge_tooltips||!1,categories=l.categories||!1,categories_colors=l.categories_colors,dot_radius=l.dot_radius||1.5,offset_top=title?10:2*dot_radius,offset_bottom=d?10:2*dot_radius,center_x=s/2,center_y=o/2,inner_radius=Math.min(center_x-2*dot_radius,center_y-(offset_top+offset_bottom)/2),outer_radius=inner_radius+2*dot_radius,start_x=l.has_key?inner_radius+dot_radius:center_x,start_y=inner_radius+offset_top,cos=Math.cos,sin=Math.sin,PI=Math.PI,total_radians=2*PI;var u=e('<svg width="100%" height="100%" viewBox="0, 0, '+s+", "+o+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(n),_=a("circle",{cx:start_x,cy:start_y,r:inner_radius,stroke:c,"stroke-width":"0.5%",fill:"none"});u.append(_);for(var v=title?o-10:o,f=[],g=t[0].values.length,m=2*PI/g,y="",x=1*PI/2,w=0,k=[],b=[],M={},j=0,P=0;P<t[0].values.length;P++){var C=t[0].values[P],I=t[0].title;if(categories){if("string"==typeof C.category)var L=C.category,A="";else if("object"==typeof C.category)var L=C.category.name,A=C.category.subtitle;L in M?M[L].length+=1:(M[L]={length:1,color:categories_colors[j%categories_colors.length],value:A},j++)}d&&2==t.length&&(w+=1-Math.max(t[fit_master].values[P].value-t[fit_comparison].values[P].value,0)/h)}if(categories&&M){var N=x+PI/g,T=start_x+outer_radius*cos(N);category_start_y=start_y-outer_radius*sin(N);for(var L in M)if(M.hasOwnProperty(L)){var O,B,H=M[L],Z=H.length/g*total_radians,W=start_x+outer_radius*cos(N-Z),X=start_y-outer_radius*sin(N-Z),Y=start_x+inner_radius*cos(N-Z),z=start_y-inner_radius*sin(N-Z),E=H.color;Z>=PI?(O="0 1 1",B="0 1 0"):(O="0 0 1",B="0 0 0");var S;if(1==j)var D=a("circle",{cx:start_x,cy:start_y,r:inner_radius+dot_radius,stroke:E,"stroke-width":2*dot_radius,fill:"none","data-title":L,"data-value":H.value,"class":"graph_piece"});else{S=["M",T,category_start_y,"A",outer_radius,outer_radius,O,W,X,"L",Y,z,"A",inner_radius,inner_radius,B,start_x+inner_radius*cos(N),start_y-inner_radius*sin(N),"L",T,category_start_y,"Z"];var D=a("path",{d:S.join(" "),fill:E,"data-title":L,"data-value":H.value,"class":"graph_piece"})}u.append(D),T=W,category_start_y=X,N=N-Z>0?(N-Z)%(2*PI):N-Z+2*PI}}for(var F=0;F<t.length;F++){var y=[],I=t[F].title,Q=x,R=t[F].values;if(categories&&M){var q=Object.keys(M);R=R.sort(i)}for(var P=0;P<R.length;P++){var C=R[P],G=start_x+inner_radius*C.value/h*cos(Q),J=start_y-inner_radius*C.value/h*sin(Q),E=p[F%p.length],K=I+": "+C.value+"/"+h;if(C.hasOwnProperty("tooltip_value")&&(K=C.tooltip_value.constructor==Array?C.tooltip_value.join(", "):C.tooltip_value),y.push(G+","+J),Q-=m,edge_tooltips)k[P]?k[P].push(K):k[P]=[K];else{var U=a("circle",{cx:G,cy:J,r:dot_radius,fill:E,"data-title":C.name,"data-value":K,"class":"graph_piece"});b.push(U)}}var D=a("polygon",{points:y.join(" "),fill:E,"fill-opacity":.5,stroke:E,"stroke-width":"0.5%","data-title":C.name,"data-value":C.value,"class":"graph_piece"});if(u.append(D),!edge_tooltips)for(var P=0;P<b.length;P++)u.append(b[P]);f.push({color:E,title:t[F].title})}if(edge_tooltips)for(var V=x,P=0;P<t[0].values.length;P++){var C=t[0].values[P],I=t[0].title,G=start_x+inner_radius*cos(V),J=start_y-inner_radius*sin(V),D=a("circle",{cx:G,cy:J,r:dot_radius,fill:c,"data-title":C.name,"data-value":k[P].join("<br/>"),"class":"graph_piece"});u.append(D),V+=m}if(has_key)for(var $=(v-offset_top)/f.length,ee=Math.min(5,$),F=0;F<f.length;F++){var te=f[F],ae=a("circle",{cx:center_x+2*ee,cy:offset_top+F*$+ee,r:ee,fill:te.color,"class":"key_circle"}),re=a("text",{x:center_x+4*ee,y:offset_top+F*$+1.5*ee,fill:r,"class":"key_text"},te.title);u.append(ae),u.append(re)}if(title){var le=a("text",{x:s/2,y:5,fill:r,"text-anchor":"middle","class":"key_text"},title);u.append(le)}if(d){var ie=prettyNumber(100*w/g),ne="Fit: "+ie+"%",se=a("text",{x:s/2,y:o-2,fill:r,"text-anchor":"middle","class":"key_text"},ne);u.append(se)}var oe=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");return n.on("mouseover","path.graph_piece, circle.graph_piece",function(t){oe.find("span.title").html(e(this).data("title")),e(this).data("value")&&!isNaN(e(this).data("value"))?oe.find("span.value").text(prettyNumber(e(this).data("value"))):oe.find("span.value").html(e(this).data("value")),oe.show()}),n.on("mouseleave","path.graph_piece, circle.graph_piece",function(e){oe.hide()}),n.on("mousemove","path.graph_piece, circle.graph_piece",function(e){oe.css({left:e.pageX-oe.outerWidth()/2+"px",top:e.pageY-oe.outerHeight(!0)+"px"})}),n.addClass("chart").addClass("skew_chart"),has_key&&n.addClass("has_key"),n},e.fn.drawBar=function(t,i){for(var n,s=e(this),o=i.aspect_ratio?i.aspect_ratio:2,p=100*o,c=100,h=parseInt(i.bar_spacing),d=i.colors,u=(i.background_color||"#fff",i.title),_=i.hover,v=i.rounded_tops,f=i.average_line,g="undefined"==typeof i.goal_value?null:i.goal_value,m="undefined"==typeof i.height_adjustment?0:i.height_adjustment,y=(Math.cos,Math.sin,Math.PI,e('<svg width="100%" height="100%" viewBox="0, 0, '+p+", "+c+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(s)),x=f||null!==g?16:0,w=f||null!==g?8:0,k=p-x,b=_&&!u?c:c-10,M=b-10,j=0,P=1+m,C=p-k+h/2,I=b,L=(k-t.length*h)/t.length,A=0;A<t.length;A++){var N=0;"number"==typeof t[A].value&&(t[A].value=[t[A].value]),"string"==typeof t[A].name&&(t[A].name=Array(t[A].value.length).fill([t[A].name]));for(var T=0;T<t[A].value.length;T++)N+=t[A].value[T];j+=N,N+m>P&&(P=N+m)}if(f||null!==g){var O;f?(n=j/t.length,O=M*(n+m)/P):(n=g,O=M*(g+m)/P);for(var A=0;A<t.length;A++){for(var N=0,T=0;T<t[A].value.length;T++)N+=t[A].value[T];N>n&&(t[A].value[0]=N-n,t[A].value.unshift(n),t[A].name.unshift(t[A].name[0]))}var B=a("rect",{x:p-k,y:I-O,width:k,height:O,fill:"rgba(0, 0, 0, 0.1)"});y.append(B);var H=["M",p-k,I-O,"L",p-k-w/2,I-O+w/2,"L",0,I-O+w/2,"L",0,I-O-w/2,"L",x-w/2,I-O-w/2,"Z"],Z=a("path",{d:H.join(" "),fill:l,"class":"goal_indicator"});y.append(Z);var W=a("text",{x:(x-w/2)/2,y:I-O+w/2-2,"text-anchor":"middle",fill:"#fff","class":"goal_indicator_text"},prettyNumber(n));y.append(W)}for(var A=0;A<t.length;A++){for(var X=t[A],Y=I,z=0,E=0,T=0;T<X.value.length;T++){var S=X.value[T],D=M*(S+m)/P,F=1==X.value.length?d[A%d.length]:d[T%d.length],Q=_?"graph_piece":"";if(v&&T==X.value.length-1&&("undefined"==typeof n||D>n))var R=["M",C,Y,"L",C,Y-D+Math.min(L/2,D),"A",L/2,Math.min(L/2,D),"0 0 1",C+L,Y-D+Math.min(L/2,D),"L",C+L,Y,"Z"];else var R=["M",C,Y,"L",C,Y-D,"L",C+L,Y-D,"L",C+L,Y,"Z"];var q=S;"undefined"!=typeof n&&2==X.value.length&&(q=X.value[0]+X.value[1]);var G=a("path",{d:R.join(" "),fill:F,"data-title":X.name[T],"data-value":q,"class":Q});D>0&&y.append(G),Y-=D,z+=D,E+=S}if(!_){var J=a("text",{x:C+L/2,y:I-z-1,fill:r,"text-anchor":"middle","class":"key_text"},prettyNumber(E)),K=a("text",{x:C+L/2,y:c-1,fill:r,"text-anchor":"middle","class":"key_text"},X.name[0]);y.append(J),y.append(K)}C+=L+h}if(_&&u)var U=a("text",{x:p/2,y:c-2,fill:r,"text-anchor":"middle","class":"key_text"},u);if(y.append(U),_){var V=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");s.on("mouseover","path.graph_piece",function(t){V.find("span.title").html(e(this).data("title")),V.find("span.value").text(prettyNumber(e(this).data("value"))),V.show()}),s.on("mouseleave","path.graph_piece",function(e){V.hide()}),s.on("mousemove","path.graph_piece",function(e){V.css({left:e.pageX-V.outerWidth()/2+"px",top:e.pageY-V.outerHeight(!0)+"px"})})}return s.addClass("chart").addClass("bar_chart"),s},e.fn.drawLine=function(t,l){var i=e(this),n=l.aspect_ratio?l.aspect_ratio:2,s=100*n,o=100,p=0,c=l.colors,h="undefined"==typeof l.show_area_color?!0:l.show_area_color;background_color=l.background_color||"#fff",title=l.title,hover=l.hover,dot_radius=l.dot_radius||1.5,separate_scales="undefined"==typeof l.separate_scales?!1:l.separate_scales,zoom_y="undefined"==typeof l.zoom_y?0:l.zoom_y,height_adjustment="undefined"==typeof l.height_adjustment?1:l.height_adjustment,has_key=l.has_key||!1,cos=Math.cos,sin=Math.sin,PI=Math.PI;for(var d=e('<svg width="100%" height="100%" viewBox="0, 0, '+s+", "+o+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(i),u=has_key?s-75-2*dot_radius:s-2*dot_radius,_=hover&&!title?o:o-10,v=_-10,f=null,g=null,m=[],y=[],x=[],w=0;w<t.length;w++){m.push(null),y.push(null);for(var b=t[w].hasOwnProperty("values")?t[w].values:t[w],M=0;M<b.length;M++)(null==f||b[M].value>f)&&(f=b[M].value),(null==g||b[M].value<g)&&(g=b[M].value),(null==m[w]||b[M].value>m[w])&&(m[w]=b[M].value),(null==y[w]||b[M].value<y[w])&&(y[w]=b[M].value)}height_adjustment=Math.max(-1*g,height_adjustment),f+=height_adjustment,g+=height_adjustment;for(var j=[],w=0;w<t.length;w++)j[w]=Math.max(-1*y[w],height_adjustment),m[w]=m[w]+height_adjustment,y[w]=y[w]+height_adjustment;for(var P=[],w=0;w<t.length;w++){for(var b=t[w].hasOwnProperty("values")?t[w].values:t[w],C=b.length>1?u/(b.length-1):u,I=dot_radius,L=[],A=c[w%c.length],N=separate_scales?m[w]:f,T=separate_scales?y[w]:g,O=separate_scales?j[w]:height_adjustment,M=0;M<b.length;M++){var B=b[M],H=I,Z=_-v*(B.value+O-T*zoom_y)/(N-T*zoom_y),W=B.value;B.hasOwnProperty("tooltip_value")&&(W=B.tooltip_value.constructor==Array?B.tooltip_value.join(", "):B.tooltip_value),L.push(H+","+Z);var X=a("circle",{cx:H,cy:Z,r:dot_radius,fill:A,"data-title":B.name,"data-value":W,"class":"graph_piece"});P.push(X),I+=C}var Y=a("polyline",{points:L.join(" "),fill:"none","fill-opacity":.5,stroke:A,"stroke-width":"0.5%"});if(d.append(Y),h){var z=dot_radius+","+_,E=dot_radius+u+","+_,S=a("polygon",{points:z+" "+L.join(" ")+" "+E,fill:A,"fill-opacity":.5});d.append(S)}x.push({color:A,title:t[w].title||title})}for(k=0;k<P.length;k++)d.append(P[k]);if(has_key){var D=Math.max(10,x.length),F=(_-p)/D,Q=Math.min(3,F/2);console.log(Q,F);for(var M=0;M<x.length;M++){var R=x[M],q=a("circle",{cx:u+2*Q,cy:p+M*F+Q,r:Q,fill:R.color,"class":"key_circle"}),G=a("text",{x:u+4*Q,y:p+M*F+1.5*Q,fill:r,"class":"key_text"},R.title);d.append(q),d.append(G)}}if(hover&&title)var J=a("text",{x:s/2,y:o-2,fill:r,"text-anchor":"middle","class":"key_text large"},title);if(d.append(J),hover){var K=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");i.on("mouseover","polygon.graph_piece, circle.graph_piece",function(t){K.find("span.title").html(e(this).data("title")),K.find("span.value").text(e(this).data("value")),K.show()}),i.on("mouseleave","polygon.graph_piece, circle.graph_piece",function(e){K.hide()}),i.on("mousemove","polygon.graph_piece, circle.graph_piece",function(e){K.css({left:e.pageX-K.outerWidth()/2+"px",top:e.pageY-K.outerHeight(!0)+"px"})})}return i.addClass("chart").addClass("line_chart"),i},e.fn.drawComparison=function(t,l){for(var i=e(this),n=l.aspect_ratio?l.aspect_ratio:1,s=100*n,o=100,p=l.colors,c=l.shapes,h=(l.background_color||"#fff",l.title),d=l.hover,u=d?"graph_piece":"",_=(Math.cos,Math.sin,Math.PI,e('<svg width="100%" height="100%" viewBox="0, 0, '+s+", "+o+'" xmlns="http://www.w3.org/2000/svg"></svg>').appendTo(i)),v=0,f=0,g=0;g<t.length;g++)v+=t[g].value;var m=0,y=d&&!h?o:o-10,x=y;if(v>0)for(var g=0;g<t.length;g++){var w=t[g],k=p[g%p.length],b=c[g%c.length],M=Math.round(w.value/v*100)/100,j=w.value/v*(y/100),P=Math.round(j*s*100)/100,C=Math.round(j*o*100)/100;f+=M,f>1&&(M-=.01);var I=a("path",{d:b,fill:k,"data-title":w.name,"data-value":Math.round(100*M)+"%","class":u,transform:"translate("+m+", "+(x-C)+"), scale("+j+")"});if(_.append(I),!d){var L=a("text",{x:m+P/2,y:x-C-1,fill:r,"text-anchor":"middle","class":"key_text large"},Math.round(100*M)+"%"),A=a("text",{x:m+P/2,y:o-1,fill:r,"text-anchor":"middle","class":"key_text"},w.name);_.append(L),_.append(A)}m+=P,h&&(m+=10/(t.length-1))}if(d&&h)var N=a("text",{x:s/2,y:o-2,fill:r,"text-anchor":"middle","class":"key_text"},h);if(_.append(N),d){var T=e('<div class="chart_tip"><span class="title"></span><span class="value"></span></div>').appendTo("body");i.on("mouseover","path.graph_piece",function(t){T.find("span.title").html(e(this).data("title")),T.find("span.value").text(e(this).data("value")),T.show()}),i.on("mouseleave","path.graph_piece",function(e){T.hide()}),i.on("mousemove","path.graph_piece",function(e){T.css({left:e.pageX-T.outerWidth()/2+"px",top:e.pageY-T.outerHeight(!0)+"px"})})}return i.addClass("chart").addClass("comparison_chart"),i}}(jQuery);
